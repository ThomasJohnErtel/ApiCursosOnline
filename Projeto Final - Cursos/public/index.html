<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loja de Informática</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <header>
        <h1>Cursos</h1>
    </header>

    <div id="products-container"></div> <!-- Contêiner para lojas, produtos e serviços -->

    <script>
        // Faz a requisição à API para obter a lista de lojas
        fetch("/adiçaos")
            .then(response => response.json())
            .then(adiçaos => {
                const container = document.getElementById('products-container');
                
                adiçaos.forEach(adiçao => {
                    const lojaCard = document.createElement('div');
                    lojaCard.className = 'movie-card'; // Classe para loja
                    
                    lojaCard.innerHTML = `
                        <img src="${adiçao.image_url}" alt="${adiçao.title}">
                        <h2>${adiçao.title}</h2>
                        <p><strong>description:</strong> ${adiçao.description}</p>
                        <p><strong>trailer_url:</strong> ${adiçao.trailer_url}</p>
                        
                    `;
                   
                    container.appendChild(lojaCard);
                });
            })
            .catch(error => console.error('Erro ao carregar as adiçao:', error));

        
        fetch("/carrinhos")
            .then(response => response.json())
            .then(carrinhos => {
                const container = document.getElementById('products-container');
                
                carrinhos.forEach(carrinho => {
                    const produtoCard = document.createElement('div');
                    produtoCard.className = 'movie-card'; 
                    
                    produtoCard.innerHTML = `
                    <img src="${carrinho.image_url}" alt="${carrinho.title}">
                        <h2>${carrinho.title}</h2>
                        <p><strong>description:</strong> ${carrinho.description}</p>
                        <p><strong>trailer_url:</strong> ${carrinho.trailer_url}</p>
                    `;
                    
                    container.appendChild(produtoCard);
                });
            })
            .catch(error => console.error('Erro ao carregar os carrinhos:', error));

        
        fetch("/reservas")
     .then(response => response.json())
      .then(reservas => {
        const container = document.getElementById('products-container');
                
        reservas.forEach(reserva => {
        const servicoCard = document.createElement('div');
       servicoCard.className = 'movie-card'; 
                    
        servicoCard.innerHTML = `
        <img src="${reserva.image_url}" alt="${reserva.title}">
                        <h2>${reserva.title}</h2>
                        <p><strong>description:</strong> ${reserva.description}</p>
                        <p><strong>trailer_url:</strong> ${reserva.trailer_url}</p>
                    `;
                    
                    container.appendChild(servicoCard);
                });
            })
            .catch(error => console.error('Erro ao carregar os serviços:', error));
    </script>
</body>
</html>
